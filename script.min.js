// script.js
document.addEventListener('DOMContentLoaded', () => {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Add dog breeds dynamically
    const products = [
        { id: 1, name: "Golden Retriever", price: 1200.00, img: "https://www.vidavetcare.com/wp-content/uploads/sites/234/2022/04/golden-retriever-dog-breed-info.jpeg" },
        { id: 2, name: "Bulldog", price: 900.00, img: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Bulldog_inglese.jpg/1200px-Bulldog_inglese.jpg" },
        { id: 3, name: "Beagle", price: 800.00, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqNEqdUjTy8GO9ITQ0k4NgLILENL7saCxo8g&s" },
        { id: 4, name: "Labrador Retriever", price: 1000.00, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFxpYa23Nb23EqOgdbUiqKk4bx7z0u_15ztQ&s" },
        { id: 5, name: "Poodle", price: 1100.00, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6_zO-HEuBa6IAtNCK2K42QpDrwPgXpSk3Kw&s" },
        { id: 6, name: "French Bulldog", price: 950.00, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkfggUG_XNTMfoMPeRkXQcbtTrpj1HkK7yBA&s" },
    ];
    
    const productList = document.getElementById('productList');

    if (productList) {
        products.forEach((product) => {
            productList.innerHTML += `
                <div class="product">
                    <img src="${product.img}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>$${product.price}</p>
                    <button class="add-to-cart" 
                            data-id="${product.id}" 
                            data-name="${product.name}" 
                            data-price="${product.price}">
                        Add to Cart
                    </button>
                </div>
            `;
        });
    }

    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('add-to-cart')) {
            const product = {
                id: e.target.dataset.id,
                name: e.target.dataset.name,
                price: parseFloat(e.target.dataset.price),
            };
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        }
    });

    // Update cart count
    function updateCartCount() {
        const cartCount = document.getElementById('cartCount');
        if (cartCount) cartCount.textContent = cart.length;
    }

    updateCartCount();
});

document.addEventListener('DOMContentLoaded', () => {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartItemsContainer = document.getElementById('cartItems');
    const totalAmountContainer = document.getElementById('totalAmount');

    function updateCart() {
        // Clear the cart display
        cartItemsContainer.innerHTML = '';
        let total = 0;

        // Re-render the cart
        cart.forEach((item, index) => {
            total += item.price;

            cartItemsContainer.innerHTML += `
                <div class="cart-item">
                    <p><strong>${item.name}</strong> - $${item.price.toFixed(2)}</p>
                    <button class="remove-item" data-index="${index}">Remove</button>
                </div>
            `;
        });

        // Update total amount
        totalAmountContainer.textContent = total.toFixed(2);
    }

    // Remove item from cart
    cartItemsContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item')) {
            const index = e.target.dataset.index;
            cart.splice(index, 1); // Remove the item from the cart array
            localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
            updateCart(); // Re-render the cart
        }
    });

    // Initialize cart display
    if (cartItemsContainer && totalAmountContainer) {
        updateCart();
    }
});
